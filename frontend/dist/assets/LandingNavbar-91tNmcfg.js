import{r as n,u as H,a as $,j as e}from"./index-C4jr9hN5.js";const R=n.memo(function(){const c=H(),C=$(),[a,o]=n.useState(!1),[u,b]=n.useState(!1),[y,v]=n.useState(""),k=n.useRef(null),x=C.pathname==="/";if(!x)return null;const E=n.useCallback(()=>{o(t=>!t)},[]),g=()=>{document.querySelectorAll(".search-highlight").forEach(s=>{const r=s.parentNode;r&&(r.replaceChild(document.createTextNode(s.textContent),s),r.normalize())})},L=t=>{if(g(),!t.trim())return null;const s=t.toLowerCase(),r=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,null,!1),N=[];let i;for(;i=r.nextNode();)i.parentElement&&!i.parentElement.closest("nav")&&!i.parentElement.closest("header")&&!i.parentElement.closest(".search-popup")&&!i.parentElement.classList.contains("search-highlight")&&N.push(i);let f=null;return N.forEach(h=>{const d=h.textContent;if(d.toLowerCase().includes(s)){const p=document.createDocumentFragment();let m=0;const M=new RegExp(`(${s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");let l;for(;(l=M.exec(d))!==null;){l.index>m&&p.appendChild(document.createTextNode(d.substring(m,l.index)));const w=document.createElement("span");w.className="search-highlight bg-yellow-300 text-gray-900 px-0.5 rounded",w.textContent=d.substring(l.index,l.index+l[0].length),p.appendChild(w),f||(f=w),m=l.index+l[0].length}m<d.length&&p.appendChild(document.createTextNode(d.substring(m))),p.childNodes.length>0&&h.parentNode.replaceChild(p,h)}}),f&&setTimeout(()=>{const h=document.querySelector(".search-highlight");h&&h.scrollIntoView({behavior:"smooth",block:"center"})},150),f},T=t=>{const s=t.target.value;v(s),L(s)},S=t=>{t.key==="Escape"&&(b(!1),v(""),g())};n.useEffect(()=>{u&&k.current&&k.current.focus()},[u]),n.useEffect(()=>{u||g()},[u]);const j=t=>{if(t==="Home")x?window.scrollTo({top:0,behavior:"smooth"}):c("/"),o(!1);else if(t==="Register College")c("/login?role=admin"),o(!1);else if(t==="Student Login")c("/login?role=student"),o(!1);else if(t==="Teacher Login")c("/login?role=teacher"),o(!1);else if(t==="About us")window.open("https://www.education.gov.in/sites/upload_files/mhrd/files/NEP_Final_English_0.pdf","_blank"),o(!1);else if(t==="Information"){if(x){const s=document.getElementById("nep2020");s&&s.scrollIntoView({behavior:"smooth",block:"start"})}else c("/#nep2020");o(!1)}else t==="Contact us"&&(x?window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}):(c("/"),setTimeout(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},100)),o(!1))},I=["Home","Register College","Student Login","Teacher Login","Information","About us","Contact us"];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`fixed right-0 top-0 h-full z-[100] transition-all duration-500 ease-in-out ${a?"w-[30%]":"w-20"}`,children:[e.jsx("div",{className:`absolute left-0 top-0 h-full bg-black transition-all duration-700 ease-in-out ${a?"w-[calc(100%-80px)] opacity-100 translate-x-0":"w-0 opacity-0 -translate-x-full"} overflow-hidden`,children:e.jsx("div",{className:"pt-20 pl-8 min-w-[200px]",children:e.jsx("ul",{className:"space-y-6",children:I.map((t,s)=>e.jsx("li",{className:`transition-all duration-500 ease-out ${a?"opacity-100 translate-x-0":"opacity-0 -translate-x-8"}`,style:{transitionDelay:a?`${700+s*100}ms`:"0ms"},children:e.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),j(t)},className:"text-yellow-400 hover:text-yellow-300 transition-colors text-lg font-medium whitespace-nowrap cursor-pointer",children:t})},s))})})}),e.jsxs("div",{className:"absolute right-0 top-0 h-full w-20 bg-yellow-400 z-10",children:[e.jsxs("div",{className:"flex flex-col items-center pt-8",children:[e.jsx("button",{onClick:E,className:"flex flex-col items-center justify-center w-12 h-12 transition-all duration-300 cursor-pointer","aria-label":"Toggle menu",children:e.jsxs("div",{className:"relative w-8 h-6",children:[e.jsx("span",{className:`absolute left-0 top-0 w-full h-0.5 bg-black transition-all duration-300 ${a?"rotate-45 translate-y-2.5":"translate-y-0"}`}),e.jsx("span",{className:`absolute left-0 top-2.5 w-full h-0.5 bg-black transition-all duration-300 ${a?"opacity-0":"opacity-100"}`}),e.jsx("span",{className:`absolute left-0 top-5 w-full h-0.5 bg-black transition-all duration-300 ${a?"-rotate-45 -translate-y-2.5":"translate-y-0"}`})]})}),e.jsx("span",{className:"text-black font-bold uppercase mt-2 text-sm tracking-wide",children:"MENU"})]}),e.jsxs("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col gap-6",children:[e.jsx("button",{onClick:()=>j("Home"),className:"text-black hover:opacity-70 transition-opacity cursor-pointer","aria-label":"Home",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("button",{onClick:()=>j("About us"),className:"text-black hover:opacity-70 transition-opacity cursor-pointer","aria-label":"Information",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:()=>b(!0),className:"text-black hover:opacity-70 transition-opacity cursor-pointer","aria-label":"Search",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]}),u&&e.jsx("div",{className:"fixed top-4 right-4 z-[200] search-popup",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 p-3 w-64",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{ref:k,type:"text",value:y,onChange:T,onKeyDown:S,placeholder:"Search page...",className:"flex-1 outline-none text-sm text-gray-800 placeholder-gray-400"}),e.jsx("button",{onClick:()=>{b(!1),v(""),g()},className:"text-gray-400 hover:text-gray-600 transition-colors shrink-0","aria-label":"Close search",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),y&&e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Press Esc to close"})]})})]})});export{R as default};
